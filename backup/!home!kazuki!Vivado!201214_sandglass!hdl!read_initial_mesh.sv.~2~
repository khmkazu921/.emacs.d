`timescale 1ns / 1ps
//////////////////////////////////////////////////////////////////////////////////
// Company: 
// Engineer: 
// 
// Create Date: 12/14/2020
// Design Name: 
// Module Name: read initial mesh
// Project Name: 
// Target Devices: 
// Tool Versions: 
// Description: 
// 
// Dependencies: 
// 
// Revision:
// Revision 0.01 - File Created
// Additional Comments:
// 
//////////////////////////////////////////////////////////////////////////////////


module read_initial_mesh
    #(
      parameter integer COUNT =100 
      )
    (
     input clk,
     input resetn,
     input isandglass,
     input reg [1:0]state,
     output reg rstn,
     output reg mig_rstn
     );

    reg [11:0] addra;
    reg [17:0] douta;
    reg [700:0][511:0] active; // [# of row][N_MESH_X]

    parameter [11:0] start_dep[2] = '{12'd3804, 12'd3000};
    parameter [] 

    init_mesh_0 init_mesh
      (
       .addra(addra),
       .clka(clk),
       .douta(douta)
       );

    /*
     .......
       ....
        ... 
         ..
         ,,
     */

    always_ff @(posedge clk) begin
        case(state)
            'b00: begin
                addra <= 0;
            end
            'b01: begin
                addra <= start_dep[isandglass];
            end
            'b10: begin
                addra <= addra + 1;
            end
        endcase
    end // always_ff @ (posedge clk)
    
endmodule
