cube(x,y,z,c) = sprintf('<echo "\
%f %f %f %i\n\
%f %f %f %i\n\
%f %f %f %i\n\
%f %f %f %i\n\
%f %f %f %i\n\
\n\
%f %f %f %i\n\
%f %f %f %i\n\
%f %f %f %i\n\
%f %f %f %i\n\
%f %f %f %i\n\
\n\
%f %f %f %i\n\
%f %f %f %i\n\
%f %f %f %i\n\
%f %f %f %i\n\
%f %f %f %i\n\
\n\
%f %f %f %i\n\
%f %f %f %i\n\
%f %f %f %i\n\
%f %f %f %i\n\
%f %f %f %i"',\
0+x,0+y,0+z,c,\
0+x,0+y,1+z,c,\
0+x,1+y,1+z,c,\
0+x,1+y,0+z,c,\
0+x,0+y,0+z,c,\
1+x,0+y,0+z,c,\
1+x,0+y,1+z,c,\
1+x,1+y,1+z,c,\
1+x,1+y,0+z,c,\
1+x,0+y,0+z,c,\
0+x,0+y,0+z,c,\
1+x,0+y,0+z,c,\
1+x,1+y,0+z,c,\
0+x,1+y,0+z,c,\
0+x,0+y,0+z,c,\
0+x,0+y,1+z,c,\
1+x,0+y,1+z,c,\
1+x,1+y,1+z,c,\
0+x,1+y,1+z,c,\
0+x,0+y,1+z,c\
)

add_cube(x,y,z) = sprintf('cube(%f,%f,%f,'#ce4c7d') w l ls',x,y,z)
CMD = ''
stats 'cube_positions.txt' u 1:(CMD = CMD.add_cube($1,$2,$3)) nooutput
CMD = 'splot '.CMD.'1/0 w l ls 2'
eval(CMD)
